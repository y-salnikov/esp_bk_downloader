# esp_bk_downloader
Устройство для загрузки БК0010(-01) через магнитофонный интерфейс по WiFi.


Устройство представляет собой модуль ESP-12 в стандартном подключении. Вывод GPIO13 подключен ко входу магнитофона.


![Прототип устройства](https://github.com/y-salnikov/esp_bk_downloader/blob/master/img/proto.jpg?raw=true)
Прототип устройства.


![Схема](https://github.com/y-salnikov/esp_bk_downloader/blob/master/img/new_schem.png?raw=true)
Схема.


При старте устройство подключается к вашему WiFi роутеру и выступает в роле web-сервера.
Веб-интерфейс позволяет загрузить bin-файл, поменять или стереть имя, изменить адрес загрузки по умолчанию и включить автозапуск (для файлов с начальным адресом 01000).
Загрузка происходит на повышенной скорости. К выходу также можно подключить пьезодинамик для большего ностальгического эффекта.

![Web-интерфейс](https://github.com/y-salnikov/esp_bk_downloader/blob/master/img/web_interface.png?raw=true)
Web-интерфейс.


Программа написана на esp-open-sdk. Имя точки доступа WiFi и пароль вшиты в код. Работоспособность проверялась в браузере firefox на компьютере и chrome на телефоне с андройдом.


Добавленна возможность "пробрасывать" джойстик с компьютера. Свободные GPIO порты модуля через ключи подсоединяются ко входам параллельного порта БК0010. Для управления этими портами используется протокол UDP. На порт 33333 модуля передаются пакеты длиной 1 байт, которые содержат новые значения портов GPIO. Была написана программа на python под линукс, передающая состояние геймпада на указанный порт.


